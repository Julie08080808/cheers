# Drunk & Dangerous Friends
：I’m Shot Done！：（

## Concept Development 專案簡介

在現代聚會、派對、韓國遊戲文化中，「調酒」常作為懲罰或遊戲的一環，而過程中最麻煩的就是——要有人負責調，而且常常調錯、量不準、有爭議，也不夠公平，不夠科技感。
我們希望改善這點，打造一個：

***讓使用者透過網頁進行遊戲，由系統調製飲品的人機互動系統 ⭐***

## Implementation Resources 硬體資源

- raspberry pi4 x1
- MW明緯 LRS-50-12 電源供應器（AC→DC Power Supply） x1
- L289N 馬達驅動器 x2
- 幫浦 x4
- 塑膠管3米
- 杜邦線數條 (母母、公母線)
- 紅黑線4米
- 麵包版一塊(小的)
- 銲槍、焊錫
- AC電源線
- type c 充電線
- 角柱
- 紙箱2個 (一大一小)
- 棉花棒
- 膠帶
- 熱融槍
- 美工刀、剪刀
- 蠟筆
- 標籤紙

## Hardware architecture 硬體架構
硬體架構圖
(待放)
硬體腳位對應
| 幫浦 | L298N（第一台） | L298N（第二台） | 樹莓派 GPIO（實體腳位） |
|------|----------------|----------------|-------------------------|
| 第一顆幫浦 | in1 | — | GPIO22 (Pin 15) |
|  | in2 | — | GPIO27 (Pin 13) |
| 第二顆幫浦 | in3 | — | GPIO17 (Pin 11) |
|  | in4 | — | GPIO4 (Pin 7) |
| 第三顆幫浦 | — | in1 | GPIO19 (Pin 35) |
|  | — | in2 | GPIO13 (Pin 33) |
| 第四顆幫浦 | — | in3 | GPIO6 (Pin 31) |
|  | — | in4 | GPIO5 (Pin 29) |

## Existing Library/Software 遊戲列表與技術概覽
## 系統架構圖
<img width="902" height="1844" alt="功能架構" src="https://github.com/user-attachments/assets/950bb796-d1e3-4992-bb9f-da825a7a8877" />

## Functional Map 功能架構圖
(待補)

<!-- Which libraries do you use while you implement the project -->
模式介紹
| 項目 | 酒鬼模式 | 闔家歡模式 |
|------|----------|------------|
| 模式定位 | 派對刺激型 | 互動策略型 |
| 是否使用積分 | 否 | 是 |
| 積分計算方式 | 不適用 | 答對 +1、答錯 -1、未抽中 0 |
| 喝酒判定方式 | 遊戲結果直接喝 | 依積分與規則分配 |
| 回合結算 | 無固定結算 | 每 5 回合結算一次 |
| 結束條件 | 任一玩家喝到 3 杯 | 可持續多輪，由系統結算 |
| 積分最高者權限 | 不適用 | 可加一種酒或指定遊戲方式 |
| 積分最低者懲罰 | 輸了直接喝 | 結算後喝酒 |
| 同分處理方式 | 不適用 | 系統隨機抽選或共同處罰 |
| 適合場合 | 重度派對、熟人聚會 | 混合族群、輕鬆聚會 |

*酒鬼模式｜骰子規則對照表*

| 骰子點數（兩顆相加） | 對應組合 | 遊戲類型 | 規則說明 | 是否使用幫浦 |幫浦運作秒數（s）|
|------------------|----------|----------|----------|--------------|---------------|
| 3 | 1+2 | 我有你沒有 | 系統隨機指定一人與擲骰者對戰，輸的人喝 | 否 |
| 4 | 1+3 | 隨機酒 | 系統隨機指定一種酒 | 是 |
| 5 | 1+4、2+3 | 掰手腕 | 系統隨機配對，輸的人喝 | 否 |
| 6 | 1+5、2+4 | 黑白切 | 系統隨機配對，輸的人喝 | 否 |
| 7 | 1+6、3+4、2+5 | 自選酒 | 擲骰者自行選擇酒款倒酒 | 是 |
| 8 | 2+6、3+5 | 隨機酒 | 系統隨機指定一種酒倒酒 | 是 |
| 9 | 3+6、4+5 | 射龍門 | 撲克牌遊戲，輸的人喝 | 否 |
| 對子 | 11、22、33、44、55、66 | 喝喝 | 無條件喝酒 | 否 |
| 10、11 | 4+6、5+6 | 真心話大冒險 | 完成挑戰，失敗者喝 | 否 |

*闔家歡模式｜骰子規則對照表*

| 骰子點數（兩顆相加） | 對應組合 | 遊戲類型 | 規則說明 | 積分變化 | 是否使用幫浦 |幫浦運作秒數（s）|
|------------------|----------|----------|----------|----------|--------------|---------------|
| 3 | 1+2 | LSA 問答 | 手機顯示選擇題，玩家作答 | 對 +1 / 錯 -1 | 否 |
| 4 | 1+3 | 隨機酒 | 系統隨機指定一種酒 | 無 | 是 |
| 5 | 1+4、2+3 | LSA 問答 | 手機顯示選擇題 | 對 +1 / 錯 -1 | 否 |
| 6 | 1+5、2+4 | 黑白切 | 系統配對，勝負判定 | 贏 +1 / 輸 -1 | 否 |
| 7 | 1+6、3+4、2+5 | 自選酒 | 玩家自行選擇酒款與比例 | 無 | 是 |
| 8 | 2+6、3+5 | 隨機酒 | 系統隨機倒酒 | 無 | 是 |
| 9 | 3+6、4+5 | 喝喝 | 因懲罰過重，補償積分 | +1 | 否 |
| 對子 | 11、22、33、44、55、66 | 喝喝 | 補償事件 | +1 | 否 |
| 10、11 | 4+6、5+6 | 真心話大冒險 | 完成後可結束事件 | 無 | 否 |

## LSA 真心話大冒險題目
### 真心話

1. 你會**想修LSA下** 嗎？ **想不想當 LSA 的TA**？
2. 你覺得上週 LSA 報告的組別裡，**做最好的是哪一組**？
3. 今天在場所有人中，你覺得**誰的穿搭最好看**？
4. 你對自己**外表最不滿意**的地方在哪裡？
5. 上週 LSA 報告的組別，**做最差的組**你打幾分？

### 大冒險

1. 自己選在場的一個人**喝交杯酒**。
2. 打開手機的 **Google 搜索欄**。
3. 答應老師下學期的 **LSA (下) 你會修**。
4. **模仿一位老師**，讓同學猜。
5. 稱讚在座一位**從沒說過話的同學** (不能找認識或稍微認識的)。

## LSA選擇題
### 1. 哪一個指令可以用來顯示目前所在的目錄路徑？
- (A) `cd`
- (B) `ls`
- (C) `pwd`
- (D) `mkdir`

> <details>
> <summary>🔻 點擊查看答案</summary>
> <strong>正確答案：(C) pwd</strong>
> </details>

---

### 2. 要列出目前目錄下所有檔案（包含隱藏檔），應使用下列哪個指令？
- (A) `ls`
- (B) `ls -a`
- (C) `ls -l`
- (D) `dir`

> <details>
> <summary>🔻 點擊查看答案</summary>
> <strong>正確答案：(B) ls -a</strong>
> </details>

---

### 3. 下列哪個指令可用於切換目錄？
- (A) `mv`
- (B) `cd`
- (C) `cp`
- (D) `rm`

> <details>
> <summary>🔻 點擊查看答案</summary>
> <strong>正確答案：(B) cd</strong>
> </details>

---

### 4. 若要複製一個檔案從 A 目錄到 B 目錄，應該使用哪個指令？
- (A) `cp`
- (B) `mv`
- (C) `rm`
- (D) `touch`

> <details>
> <summary>🔻 點擊查看答案</summary>
> <strong>正確答案：(A) cp</strong>
> </details>

---

### 5. 下列哪個指令會「永久刪除」一個檔案，且通常無法輕易復原？
- (A) `del`
- (B) `remove`
- (C) `rm`
- (D) `rmdir`

> <details>
> <summary>🔻 點擊查看答案</summary>
> <strong>正確答案：(C) rm</strong>
> </details>

---

### 6. 哪個指令可查看目前的系統時間與日期？
- (A) `time`
- (B) `date`
- (C) `datetime`
- (D) `clock`

> <details>
> <summary>🔻 點擊查看答案</summary>
> <strong>正確答案：(B) date</strong>
> </details>


## Implementation Process

<!-- What kind of problems you encounter, and how did you resolve the issue? -->

## Knowledge from Lecture

<!-- What kind of knowledge did you use on this project? -->

## Framework 架構

實體 & 網絡架構
```text
[ 玩家手機 1 ]  --\
[ 玩家手機 2 ]     \
[ 玩家手機 3 ]      \
                     --> [ Wi-Fi AP / 手機熱點 ]
[ 中央平板 ]  ----  /
                           |
                           v
          [ 樹莓派 (Game Server + 調酒 Controller) ]
                           |
                           v
                 [ L298N / Relay 板 ]
                           |
                           v
                 [ 多顆幫浦 + 酒桶 ]
```

## Installation 安裝

<!-- How do the user install with your project? -->

## Usage 使用方法

<!-- How to use your project -->

### 遊戲流程 
本遊戲支援 2 至 6 人遊玩，包含「闔家歡」與「無乃酒鬼」兩種模式。以下為完整的遊戲互動流程：
### 1. 準備階段
1. **進入遊戲**：在主畫面點擊 `Game Start`。
2. **選擇模式**：
   -  **闔家歡模式**
   -  **無乃酒鬼模式**
3. **加入房間**：輸入玩家名稱後進入等候大廳。
4. **等待玩家**：等待其他玩家加入（最少 2 人，最多 6 人）。
5. **開始遊戲**：人數到齊或房主確認後，由 **房主** 點擊開始。

### 2. 遊戲進行
1. **決定順序**：由轉盤隨機決定所有玩家的遊玩順序。
2. **回合循環**：
   - 玩家依序擲骰子 🎲。
   - 根據骰子點數觸發對應的小遊戲或事件。

### 3. 結束條件

| 遊戲模式 | 結束條件 |
| :--- | :--- |
| 闔家歡模式 | 進行滿 **5 個回合** 後，遊戲結束並結算。 |
| 無乃酒鬼模式 | 當任一玩家累積喝滿 **3 杯**，遊戲立即結束。 |


## Difficulties 遇到的困難

- 在電源開啟狀態下，不小心將電源供應器與 L298N 馬達驅動器疊放接觸，造成瞬間短路產生火花，導致連接線燒斷，好險設備未受損。
- 在測試硬體設備時，第三台幫浦無法運作，排查後發現是線路未銜接好，調整後恢復了運作。
- 前期階段，前端和後端分開進行製作，導致在串接出現各種 Bug ，後續經過了一連串的測試和重新製作，得以正常運行。
- 


## Vision for the future 未來展望

- 遊戲遊玩過程中，可即時查看對手進度。
- 支援多人觀戰功能，不喝酒也能一起同樂！
- 彈性酒單設計，你的酒單你做主。
- 骰子小遊戲豐富化，增加更多小遊戲。

## Job Assignment 分工表

| 組員 | 工作内容 |
|--------|------------|
| 張詠筑 | 主題發想、GPIO、硬體設計、遊戲規則設定|
| 郭又榛 | 主題發想、後端、遊戲規則設定 |
| 吳雅惠 | GPIO、簡報製作、外殼設計、遊戲規則設定 |
| 張廷伃 | 前端、簡報製作、撰寫 README 、遊戲規則設定|
| 莊佩諺 | 前端、外殼設計、撰寫 README 、遊戲規則設定|

## Acknowledgments 感謝名單

- BlueT
- 柏瑋學長
- Reg 學長
- Chat GPT
- Gemini
- Cloud code
- 蓬萊人偶 $$$

## 客串名單
邱奕禓、陳章銓、張峻碩、柏瑋學長

## References
